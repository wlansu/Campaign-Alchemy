{% load static bleach_tags thumbnail %}
{% block content %}
<div class="modal-content">
  <div class="modal-header">
    <h5 class="modal-title">{{ location.name }}</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-4">
        {% if location.image %}
          {% thumbnail location.image "150x150" crop="center" as image %}
            <img src="{{ image.url }}" height="{{ image.height }}" width="{{ image.width }}" alt="Image of {{ object.name }}" class="img-fluid">
          {% endthumbnail %}
        {% else %}
          <img src="{% static 'images/default_location.jpg' %}" alt="Image of {{ location.name }}" class="img-fluid">
        {% endif %}
      </div>
      <div class="col-6">
        <p>{{ location.description|bleach }}</p>
      </div>
    </div>
    {% if location.characters.all %}
    <div class="d-flex flex-row mt-3">
      {% for character in location.characters.all %}
        <span class="rounded-pill dark-color-scheme ps-2 pe-2"><a class="text-decoration-none" target="_blank" href="{% url 'characters:detail' character_pk=character.id %}">{{ character.name }}</a></span>
      {% endfor %}
    </div>
    {% endif %}
  </div>
  {% url 'campaigns:maps:locations:update' campaign_pk=campaign_pk map_pk=map_pk location_pk=location.id as edit_url %}
  {% url 'campaigns:maps:locations:delete' campaign_pk=campaign_pk map_pk=map_pk location_pk=location.id as delete_url%}
  {% include "components/_edit_delete_buttons.html" with edit_url=edit_url delete_url=delete_url %}
</div>
{% endblock %}
